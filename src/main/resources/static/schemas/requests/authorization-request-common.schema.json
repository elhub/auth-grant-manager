{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$defs": {
    "id": {
      "$ref": "../elhub-common.schema.json#/$defs/resourceUuid"
    },
    "type": {
      "type": "string",
      "description": "The type of the resource object. Always 'AuthorizationRequest'.",
      "const": "AuthorizationRequest",
      "examples": ["AuthorizationRequest"]
    },
    "requestType": {
      "type": "string",
      "description": "The type of the authorization request.",
      "enum": [
        "ChangeOfEnergySupplierForPerson",
        "MoveInAndChangeOfEnergySupplierForPerson"
      ],
      "examples": [
        "ChangeOfEnergySupplierForPerson",
        "MoveInAndChangeOfEnergySupplierForPerson"
      ]
    },
    "status": {
      "type": "string",
      "description": "The status of the authorization request.",
      "enum": [
        "Accepted",
        "Expired",
        "Pending",
        "Rejected"
      ],
      "examples": ["Accepted"]
    },
    "attributes": {
      "type": "object",
      "description": "Attributes specific to the AuthorizationRequest resource.",
      "properties": {
        "requestType": {
          "$ref": "#/$defs/requestType"
        },
        "status": {
          "$ref": "#/$defs/status"
        },
        "createdAt": {
          "$ref": "../elhub-common.schema.json#/$defs/createdAt"
        },
        "updatedAt": {
          "$ref": "../elhub-common.schema.json#/$defs/updatedAt"
        },
        "validTo": {
          "$ref": "../elhub-common.schema.json#/$defs/validTo"
        }
      }
    },
    "relationships": {
      "type": "object",
      "description": "References to related resources.",
      "properties": {
        "requestedBy": {
          "description": "Relationship to the party initiating this authorization request.",
          "$ref": "../elhub-common.schema.json#/$defs/relationshipParty"
        },
        "requestedFrom": {
          "description": "Relationship to the party who owns the access or rights being requested.",
          "$ref": "../elhub-common.schema.json#/$defs/relationshipParty"
        },
        "requestedTo": {
          "description": "Relationship to the authorized representative who can approve this request.",
          "$ref": "../elhub-common.schema.json#/$defs/relationshipParty"
        },
        "approvedBy": {
          "description": "Relationship to the party who approved this authorization request (optional, populated after approval).",
          "$ref": "../elhub-common.schema.json#/$defs/relationshipParty"
        },
        "authorizationGrant": {
          "type": "object",
          "properties": {
            "links": {
              "type": "object",
              "properties": {
                "self": {
                  "type": "string",
                  "description": "Direct link to the authorization grant created by this document.",
                  "examples": [
                    "/access/v0/authorization-grants/123e4567-e89b-12d3-a456-426614174000"
                  ]
                }
              }
            },
            "data": {
              "type": "object",
              "properties": {
                "type": {
                  "$ref": "../grants/authorization-grant-common.schema.json#/$defs/type"
                },
                "id": {
                  "$ref": "../elhub-common.schema.json#/$defs/resourceUuid"
                }
              }
            }
          }
        }
      }
    },
    "meta": {
      "type": "object",
      "description": "Read-only context and human-readable metadata.",
      "properties": {
        "requestedFromName": {
          "type": "string",
          "description": "The name of the organization or person who the authorization request is requested from.",
          "examples": ["Ola Normann"]
        },
        "requestedForMeteringPointId": {
          "type": "string",
          "description": "The unique identifier of the metering point associated with the authorization request.",
          "examples": ["1234567890123"]
        },
        "requestedForMeteringPointAddress": {
          "type": "string",
          "description": "The address of the metering point associated with the authorization request.",
          "examples": ["Example Street 1, 1234 Oslo"]
        },
        "balanceSupplierContractName": {
          "type": "string",
          "description": "The unique name of a supplier contract associated with the authorization request.",
          "examples": ["ExampleSupplierContract"]
        },
        "balanceSupplierName": {
          "type": "string",
          "description": "The name of the balance supplier associated with the authorization document.",
          "examples": ["Example Supplier AS"]
        },
        "moveInDate": {
          "$ref": "../authorization-common.schema.json#/$defs/moveInDate"
        }
      },
      "additionalProperties": false
    },
    "links": {
      "type": "object",
      "description": "Links related to the resource.",
      "properties": {
        "self": {
          "type": "string",
          "format": "uri",
          "description": "A link to this resource.",
          "examples": [
            {
              "self": "/access/v0/authorization-requests/123e4567-e89b-12d3-a456-426614174000"
            }
          ]
        }
      },
      "required": ["self"],
      "additionalProperties": false
    }
  }
}
